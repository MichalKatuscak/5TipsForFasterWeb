function getScrollTop(){var s1=b.scrollTop,s2=html.scrollTop;return s1>s2?s1:s2}function setScrollTop(v){b.scrollTop=v,html.scrollTop=v}function checkActiveMenu(){for(i in nav)i<99&&(nav[i].className="");var a=Math.floor((getScrollTop()-h/3*2)/h);a in nav&&(nav[a].className="active")}function scroll(){if("m"==b.className){for(i=0;i<a;i++)e[i].className="";return void checkActiveMenu()}var s=getScrollTop(),n=s/h,ch=!1;n>a?(ch=!0,a=m.ceil(n)):n<a&&(ch=!0,a=m.floor(n)),ch&&!t&&setActive()}function setActive(){for(i=0;i<a;i++)e[i].className="after",0!=i&&(nav[i-1].className="after");for(e[a].className="active",0!=i&&(nav[a-1].className="active"),i=e.length-1;i>a;i--)e[i].className="",0!=i&&(nav[i-1].className="");scrollTo(a*h,1e3)}function checkHeight(){b.className="m",b.clientWidth>768&&(b.className="d"),h=e[0].clientHeight}function scrollTo(to,du){if(!(du<=0)){var di=to-getScrollTop(),pt=di/du*10;t=setTimeout(function(){t=!1,setScrollTop(getScrollTop()+pt),getScrollTop()!=to&&scrollTo(to,du-10)},10)}}function setNav(){for(i in nav)i<99&&nav[i].addEventListener("click",function(event){event.stopPropagation(),event.preventDefault();var parent=this.parentNode,j=Array.prototype.indexOf.call(parent.children,this)+1;return j!=a&&(a=j,setActive()),!1})}var w=window,d=document,b=d.body,html=d.getElementsByTagName("html")[0],a=0,h,t=!1,i,e=d.getElementsByTagName("article"),nav=d.getElementsByTagName("nav")[0].children,m=Math;window.onscroll=scroll,html.className="js",window.onresize=checkHeight,setNav(),checkHeight(),scroll();